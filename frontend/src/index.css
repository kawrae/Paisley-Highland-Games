@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Root and Base ---------- */
:root { color-scheme: light; }
.dark { color-scheme: dark; }

html, body, #root { height: 100%; }

body {
  font-family:
    "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    Roboto, "Helvetica Neue", Arial;
  @apply bg-white text-gray-900 transition-colors duration-300
         dark:bg-[#0a0a0a] dark:text-gray-100;
}

/* ---------- Layout ---------- */
.container-page { @apply mx-auto max-w-6xl px-4; }
.section       { @apply py-12 md:py-16; }

/* ---------- Typography ---------- */
.h1 {
  font-family: "Fraunces", serif;
  @apply text-4xl md:text-5xl font-extrabold tracking-tight
         text-highland-800 dark:text-emerald-200;
}
.h2 {
  font-family: "Fraunces", serif;
  @apply text-2xl md:text-3xl font-bold
         text-highland-800 dark:text-emerald-200;
}
.lead { @apply text-base md:text-lg text-gray-600 dark:text-gray-300; }

/* ---------- Buttons ---------- */
.btn-primary {
  @apply inline-flex items-center justify-center rounded-full px-6 py-3 text-sm font-medium transition
         bg-highland-700 text-white hover:bg-highland-800
         dark:bg-emerald-700 dark:hover:bg-emerald-600;
}

/* Subtle text button (useful in dialogs, toolbars) */
.btn-ghost {
  @apply px-3 py-2 text-sm text-gray-600 hover:text-highland-800
         dark:text-gray-300 dark:hover:text-white;
}

/* ---------- Tartan Background (unchanged in dark) ---------- */
.bg-tartan {
  background:
    repeating-linear-gradient(90deg, rgba(27, 88, 73, 0.15) 0 8px, transparent 8px 16px),
    repeating-linear-gradient(0deg, rgba(27, 88, 54, 0.08) 0 8px, transparent 8px 16px),
    linear-gradient(180deg, rgba(27, 88, 54, 0.04), rgba(27, 88, 54, 0.04));
}

/* ---------- Scrollbars ---------- */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: #f5f5f5; }
::-webkit-scrollbar-thumb { background: #c5c5c5; border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: #a0a0a0; }

html, body { overflow-x: hidden; }

/* ---------- Dark Mode Scrollbar ---------- */
.dark ::-webkit-scrollbar-track { background: #1a1a1a; }
.dark ::-webkit-scrollbar-thumb { background: #444; }
.dark ::-webkit-scrollbar-thumb:hover { background: #666; }

/* ====================================================================== */
/*                            COMPONENT PRESETS                            */
/* ====================================================================== */

@layer components {
  /* Generic card/panel shell */
  .card {
    @apply rounded-2xl border bg-white shadow-soft
           dark:bg-[#151916] dark:border-[#3a4742] dark:shadow-[0_10px_30px_rgba(0,0,0,.25)];
  }

  /* Lighter header band for tables/sections */
  .card-header {
    @apply bg-gray-50 text-gray-700
           dark:bg-[#202823] dark:text-gray-200;
  }

  /* Row hover used in tables/lists */
  .row-hover {
    @apply hover:bg-gray-50 dark:hover:bg-[#202823] transition-colors;
  }

  /* Inputs */
  .input, .select, .textarea {
    @apply w-full rounded-lg border p-2.5 outline-none transition
           focus:ring-2 focus:ring-highland-300
           dark:bg-[#151916] dark:border-[#3a4742] dark:text-gray-100
           placeholder:dark:text-gray-400;
  }
  .select  { @apply pr-8; }
  .textarea{ @apply min-h-[120px]; }

  /* Tiny status badge */
  .badge {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium
           bg-highland-100 text-highland-800
           dark:bg-emerald-900/30 dark:text-emerald-200;
  }

  /* Dialog surface */
  .dialog-surface {
    @apply card p-6;
  }

  /* Divider that respects dark mode */
  .divider {
    @apply border-t border-gray-200 dark:border-[#3a4742];
  }
}

.leaflet-container {
  background: transparent !important;
  border: 0 !important;
}


.dark .leaflet-control-container .leaflet-bar a:hover {
  background: #14211e;
}